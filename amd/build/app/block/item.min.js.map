{"version":3,"file":"item.min.js","sources":["../../../src/app/block/item.js"],"sourcesContent":["// eslint-disable-next-line no-unused-vars\nimport BaseFactory from '../factory';\n\nexport default class Item {\n    /**\n     * @type {BaseFactory}\n     */\n    #baseFactory;\n\n    /**\n     * @type {HTMLElement}\n     */\n    #element;\n\n    constructor(baseFactory, element) {\n        this.#baseFactory = baseFactory;\n        this.#element = element;\n    }\n\n    addEventListeners() {\n        if(this.#element.dataset.type === 'course' || this.#element.dataset.type === 'section') {\n            this.#element.addEventListener('click', this.toggleCollapseRecursively.bind(this));\n        }\n    }\n\n    /**\n     * @return {NodeListOf<HTMLElement>}\n     */\n    getItemChildrenRecursively() {\n        return this.#element.querySelectorAll('.sharing_cart_item');\n    }\n\n    /**\n     * @param {HTMLElement} item\n     * @param {Boolean|NULL} collapse\n     */\n    toggleCollapse(item, collapse = null) {\n        if (item.dataset.type !== 'course' && item.dataset.type !== 'section') {\n            return;\n        }\n\n        if (collapse !== null) {\n            item.dataset.collapsed = collapse ? 'true' : 'false';\n        } else {\n            item.dataset.collapsed = item.dataset.collapsed === 'true' ? 'false' : 'true';\n        }\n\n        const iconElement = item.querySelector('.info > i');\n        iconElement.classList.remove('fa-folder-o', 'fa-folder-open-o');\n        iconElement.classList.add(item.dataset.collapsed === 'true' ? 'fa-folder-o' : 'fa-folder-open-o');\n    }\n\n    /**\n     * @param {Event} e\n     */\n    toggleCollapseRecursively(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.toggleCollapse(this.#element);\n        this.getItemChildrenRecursively().forEach((item) => {\n            this.toggleCollapse(item, this.#element.dataset.collapsed === 'true');\n        });\n    }\n}"],"names":["constructor","baseFactory","element","addEventListeners","_classPrivateFieldGet","dataset","type","addEventListener","this","toggleCollapseRecursively","bind","getItemChildrenRecursively","querySelectorAll","toggleCollapse","item","collapse","collapsed","iconElement","querySelector","classList","remove","add","e","preventDefault","stopPropagation","forEach"],"mappings":"m1CAcIA,YAAYC,YAAaC,+LACDD,iDACJC,SAGpBC,oBACsC,WAA/BC,qCAAcC,QAAQC,MAAoD,YAA/BF,qCAAcC,QAAQC,2CAClDC,iBAAiB,QAASC,KAAKC,0BAA0BC,KAAKF,OAOpFG,oCACWP,qCAAcQ,iBAAiB,sBAO1CC,eAAeC,UAAMC,gEAAW,QACF,WAAtBD,KAAKT,QAAQC,MAA2C,YAAtBQ,KAAKT,QAAQC,YAK/CQ,KAAKT,QAAQW,UADA,OAAbD,SACyBA,SAAW,OAAS,QAEO,SAA3BD,KAAKT,QAAQW,UAAuB,QAAU,aAGrEC,YAAcH,KAAKI,cAAc,aACvCD,YAAYE,UAAUC,OAAO,cAAe,oBAC5CH,YAAYE,UAAUE,IAA+B,SAA3BP,KAAKT,QAAQW,UAAuB,cAAgB,oBAMlFP,0BAA0Ba,GACtBA,EAAEC,iBACFD,EAAEE,uBAEGX,qCAAeL,qBACfG,6BAA6Bc,SAASX,YAClCD,eAAeC,KAA0C,SAApCV,qCAAcC,QAAQW"}
{"version":3,"file":"element.min.js","sources":["../../../src/app/block/element.js"],"sourcesContent":["// eslint-disable-next-line no-unused-vars\nimport BaseFactory from '../factory';\n\nexport default class BlockElement {\n    /**\n     * @type {BaseFactory}\n     */\n    #baseFactory;\n\n    /**\n     * @type {HTMLElement}\n     */\n    #element;\n\n    /**\n     * @type {CourseElement}\n     */\n    #course;\n\n    /**\n     * @type {ItemElement[]}\n     */\n    #items = [];\n\n    /**\n     * @type {ItemElement|NULL}\n     */\n    #clipboardItem = null;\n    constructor(baseFactory, element) {\n        this.#baseFactory = baseFactory;\n        this.#element = element;\n    }\n\n    addEventListeners() {\n        this.setupCourse();\n        this.setupItems();\n    }\n\n    setupCourse() {\n        const course = document.querySelector('.course-content');\n\n        const courseElement = this.#baseFactory.blockFactory().course().element(this, course);\n        courseElement.addBackupToSharingCartButtons();\n\n        this.#course = courseElement;\n    }\n    setupItems() {\n        const items = this.#element.querySelectorAll('.sharing_cart_item');\n\n        items.forEach((element) => {\n            const itemElement = this.#baseFactory.blockFactory().item().element(this, element);\n            itemElement.addEventListeners();\n\n            this.#items.push(\n                itemElement\n            );\n        });\n    }\n\n    /**\n     * @param {ItemElement} item\n     */\n    deleteItem(item) {\n        // TODO: Do web service call to delete item\n\n        const index = this.#items.findIndex((i) => i.getItemId() === item.getItemId());\n        this.#items.splice(index, 1);\n        item.remove();\n    }\n\n    /**\n     * @param {ItemElement} item\n     */\n    async setClipboard(item) {\n        this.#clipboardItem = item;\n\n        await this.#course.setClipboard(item);\n    }\n\n    clearClipboard() {\n        this.#clipboardItem = null;\n    }\n}"],"names":["constructor","baseFactory","element","addEventListeners","setupCourse","setupItems","course","document","querySelector","courseElement","_classPrivateFieldGet","blockFactory","this","addBackupToSharingCartButtons","querySelectorAll","forEach","itemElement","item","push","deleteItem","index","findIndex","i","getItemId","splice","remove","setClipboard","clearClipboard"],"mappings":"w5CA4BIA,YAAYC,YAAaC,qRANhB,uEAKQ,+CAEOD,iDACJC,SAGpBC,yBACSC,mBACAC,aAGTD,oBACUE,OAASC,SAASC,cAAc,mBAEhCC,cAAgBC,yCAAkBC,eAAeL,SAASJ,QAAQU,KAAMN,QAC9EG,cAAcI,mEAECJ,eAEnBJ,aACkBK,qCAAcI,iBAAiB,sBAEvCC,SAASb,gBACLc,YAAcN,yCAAkBC,eAAeM,OAAOf,QAAQU,KAAMV,SAC1Ec,YAAYb,uDAEAe,KACRF,gBAQZG,WAAWF,YAGDG,MAAQV,mCAAYW,WAAWC,GAAMA,EAAEC,cAAgBN,KAAKM,iDACtDC,OAAOJ,MAAO,GAC1BH,KAAKQ,4BAMUR,gDACOA,YAEhBP,oCAAagB,aAAaT,MAGpCU,2DAC0B"}